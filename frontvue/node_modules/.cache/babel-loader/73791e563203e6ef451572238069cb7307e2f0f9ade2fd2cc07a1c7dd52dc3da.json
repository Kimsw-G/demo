{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive } from 'vue';\nimport InfiniteLoading from \"v3-infinite-loading\";\nimport { useRoute } from 'vue-router';\nimport MyCal from '@/components/MyCalendar.vue';\nimport axios from 'axios';\n// import \"v3-infinite-loading/lib/style.css\";\n\nconst __default__ = {\n  components: {\n    MyCal,\n    InfiniteLoading\n  },\n  data() {\n    return {\n      sampleData: ''\n    };\n  },\n  methods: {}\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  __name: 'TodoSpecDayView',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const curlogo = require(\"@/../public/logo.png\");\n    const donelogo = require(\"@/../public/ok.png\");\n    const notlogo = require(\"@/../public/no.png\");\n    let query = useRoute().query;\n    let data = reactive({\n      feeds: []\n    });\n    let page = 1;\n    const date = `${query.year}-${query.month}-${query.day}`;\n    const suser = 1;\n    const load = async $state => {\n      try {\n        // 전체 목록들을 불러오는 axios\n        const json = await axios.get(`/feed/getSpecDay?suser=${suser}&day=${date}&page=${page}`).then(res => {\n          console.log(res.data);\n          return res.data;\n        }).catch(err => {\n          console.log(err);\n        });\n        // json 데이터중 ftype이 1일때, todoPercentage를 확인하여 json 데이터를 가져와야함\n        for (let i = 0; i < json.length; i++) {\n          console.log(json[i].ftype);\n          if (json[i].ftype == 1) {\n            // await axios.get(`feed/getSpecDayDone?pk=${data.pk}&day=${date}`\n            // ).then(res=>{\n            //     json[i].done=res.data\n            // }).catch(err=>{\n            //     console.log(err);\n            // })\n            json[i].done = 1;\n          }\n        }\n        if (json.length < 10) {\n          console.log(\"complete all\");\n          data.feeds.push(...json);\n          $state.loaded();\n          $state.complete();\n        } else {\n          console.log(\"load\");\n          data.feeds.push(...json);\n          $state.loaded();\n        }\n        console.log('hi' + page);\n        page++;\n      } catch (error) {\n        $state.error();\n        console.log(error);\n      }\n    };\n    const undoTodo = () => {\n      console.log('undo todo!');\n    };\n    const doTodo = () => {\n      console.log('do todo!');\n    };\n    const __returned__ = {\n      curlogo,\n      donelogo,\n      notlogo,\n      get query() {\n        return query;\n      },\n      set query(v) {\n        query = v;\n      },\n      get data() {\n        return data;\n      },\n      set data(v) {\n        data = v;\n      },\n      get page() {\n        return page;\n      },\n      set page(v) {\n        page = v;\n      },\n      date,\n      suser,\n      load,\n      undoTodo,\n      doTodo,\n      reactive,\n      get InfiniteLoading() {\n        return InfiniteLoading;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      MyCal,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"mappings":"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","names":["reactive","InfiniteLoading","useRoute","MyCal","axios","components","data","sampleData","methods","curlogo","require","donelogo","notlogo","query","feeds","page","date","year","month","day","suser","load","$state","json","get","then","res","console","log","catch","err","i","length","ftype","done","push","loaded","complete","error","undoTodo","doTodo"],"sources":["C:/Users/ds/Documents/ksw/swtodo/frontvue/src/views/todo/TodoSpecDayView.vue"],"sourcesContent":["<template>\r\n    <div id=\"main\">\r\n        {{ date }}\r\n        <div class=\"feed-box\" v-for=\"feed in data.feeds\" :key=\"feed\">\r\n            <div v-if=\"feed.ftype==1\" class=\"todo-feed feed\">\r\n                <!-- 할 일 피드 -->\r\n                \r\n                <h4 class=\"title-box box\">\r\n                    <div class=\"profile-box\"> <img  class=\"profile\" :src=\"curlogo\"/></div>\r\n                    <div class=\"title\">{{feed.ftitle}}</div>\r\n                </h4>\r\n                <div class=\"date-box box\">\r\n                    {{feed.start_day}} ~ {{feed.end_day}}\r\n                    <img  class=\"check-box\" v-if=\"feed.done==1\" :src=\"donelogo\" @click=\"undoTodo\"/>\r\n                    <img  class=\"check-box\" v-else :src=\"notlogo\" @click=\"doTodo\"/>\r\n                </div>\r\n                <div><progress class=\"progress-box box\" :value=\"feed.percent\" min=\"0\" max=\"100\"/> {{feed.percent}}%</div>\r\n                <div class=\"text-box box\">{{ feed.ftext }}</div>\r\n\r\n            </div>\r\n            <div v-else-if=\"feed.ftype==2\" class=\"event-feed feed\">\r\n                <!-- 이벤트 피드 -->\r\n                <h4 class=\"title-box box\">\r\n                    <div class=\"profile-box\"> <img  class=\"profile\" :src=\"curlogo\"/></div>\r\n                    <div class=\"title\">{{feed.ftitle}}</div>\r\n                </h4>\r\n                <div class=\"date-box box\">{{feed.start_day}}</div>\r\n                <div class=\"text-box box\">{{ feed.ftext }}</div>\r\n\r\n            </div>\r\n            <div v-else-if=\"feed.ftype==3\" class=\"diary-feed feed\">\r\n                <!-- 일기 피드 -->\r\n                <h4 class=\"title-box box\">\r\n                    <div class=\"profile-box\"> <img  class=\"profile\" :src=\"curlogo\"/></div>\r\n                    <div class=\"title\">{{feed.ftitle}}</div>\r\n                </h4>\r\n                <div class=\"date-box box\">{{feed.start_day}}</div>\r\n                <div class=\"text-box box\">{{ feed.ftext }}</div>\r\n\r\n            </div>\r\n            <div v-else-if=\"feed.ftype==4\" class=\"budget-feed feed\">\r\n                <!-- 지출 피드 -->\r\n                <h4 class=\"title-box box\">\r\n                    <div class=\"profile-box\"> <img  class=\"profile\" :src=\"curlogo\"/></div>\r\n                    <div class=\"title\">{{feed.ftext}}원</div>\r\n                </h4>\r\n                <div class=\"date-box box\">{{feed.start_day}}</div>\r\n                <div class=\"text-box box\">{{ feed.ftitle }}</div>\r\n\r\n            </div>\r\n        </div>\r\n        <InfiniteLoading @infinite=\"load\"></InfiniteLoading>\r\n    </div>\r\n    <div id=\"cal\">\r\n        <MyCal></MyCal>\r\n    </div>\r\n</template>\r\n<script setup>\r\nimport { reactive } from 'vue';\r\nimport InfiniteLoading from \"v3-infinite-loading\";\r\nimport { useRoute } from 'vue-router';\r\nimport MyCal from '@/components/MyCalendar.vue'\r\nimport axios from 'axios';\r\n// import \"v3-infinite-loading/lib/style.css\";\r\nconst curlogo =  require(\"@/../public/logo.png\")\r\nconst donelogo = require(\"@/../public/ok.png\")\r\nconst notlogo = require(\"@/../public/no.png\")\r\n\r\nlet query = useRoute().query\r\nlet data = reactive({\r\n    feeds: []\r\n})\r\nlet page = 1\r\n\r\nconst date = `${query.year}-${query.month}-${query.day}`\r\nconst suser = 1\r\n\r\nconst load = async $state => {\r\n    try {\r\n        // 전체 목록들을 불러오는 axios\r\n        const json = await axios.get(`/feed/getSpecDay?suser=${suser}&day=${date}&page=${page}`\r\n        ).then(res => {\r\n            console.log(res.data);\r\n            return res.data\r\n        }).catch(err => {\r\n            console.log(err);\r\n        })\r\n        // json 데이터중 ftype이 1일때, todoPercentage를 확인하여 json 데이터를 가져와야함\r\n        for (let i = 0; i < json.length; i++) {\r\n            console.log(json[i].ftype)\r\n            if(json[i].ftype==1){\r\n                // await axios.get(`feed/getSpecDayDone?pk=${data.pk}&day=${date}`\r\n                // ).then(res=>{\r\n                //     json[i].done=res.data\r\n                // }).catch(err=>{\r\n                //     console.log(err);\r\n                // })\r\n                json[i].done=1\r\n            }\r\n        }\r\n        \r\n\r\n        if (json.length < 10) {\r\n            console.log(\"complete all\");\r\n            data.feeds.push(...json)\r\n            $state.loaded()\r\n            $state.complete()\r\n        }\r\n        else {\r\n            console.log(\"load\");\r\n            data.feeds.push(...json)\r\n            $state.loaded()\r\n        }\r\n        console.log('hi' + page);\r\n        page++\r\n    } catch (error) {\r\n        $state.error()\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nconst undoTodo = ()=>{\r\n    console.log('undo todo!');\r\n}\r\nconst doTodo = ()=>{\r\n    console.log('do todo!');\r\n}\r\n\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n    components: {\r\n        MyCal,\r\n        InfiniteLoading\r\n    },\r\n    data() {\r\n        return {\r\n            sampleData: ''\r\n        }\r\n    },\r\n    methods: {}\r\n}\r\n</script>\r\n<style>\r\n#main {\r\n    display: inline-block;\r\n    width: 70vw;\r\n    overflow: scroll;\r\n}\r\n\r\n#cal {\r\n    vertical-align: top;\r\n    display: inline-block;\r\n    width: 30vw;\r\n    height: 30vh;\r\n}\r\n\r\n.day {\r\n    font-size: 10px;\r\n}\r\n\r\n.td-link {\r\n    width: 1em;\r\n    height: 1em;\r\n    border: none !important\r\n}\r\n\r\n.td-link:hover {\r\n    background-color: #7de0b4;\r\n}\r\n\r\n.imsi {\r\n    height: 110vh;\r\n    background-color: yellow;\r\n}\r\n.feed-box{\r\n    display: grid;\r\n    place-items: center;\r\n    margin-top: 20px;\r\n}\r\n.feed{\r\n    text-align: left;\r\n    /*border: 0.1px gray solid;*/\r\n    box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;\r\n    grid-template-rows: auto;\r\n    border-radius: 10px;\r\n    height: auto;\r\n    width: 40em;\r\n    display: grid;\r\n    padding: 16px 16px 8px 16px;\r\n}\r\n\r\n.feed > *{\r\n    padding: 0 5px;\r\n    margin: 5px 0   ;\r\n\r\n}\r\n.profile-box{\r\n    margin-right: 10px;\r\n}\r\n.profile{\r\n    height: 40px;\r\n    width: 40px;\r\n}\r\n.title-box{\r\n    display: flex;\r\n}\r\n.title{\r\n    overflow:hidden;\r\n    word-wrap:break-word;\r\n}\r\n.progress-box{\r\n    padding-left: 40px;\r\n}\r\n.date-box,.text-box{\r\n    padding-left: 50px;\r\n}\r\n.date-box{\r\n    color: gray;\r\n    font-size: 0.7em;\r\n}\r\n.progress-box{\r\n    width: 90%;\r\n    appearance: none;\r\n}\r\n.progress-box::-webkit-progress-bar{\r\n    border-radius: 10px;\r\n    box-shadow: inset 3px 3px 10px #ebebeb;\r\n}\r\n.progress-box::-webkit-progress-value{\r\n    border-radius: 10px;\r\n    background: #93F9B9;\r\n    background: -webkit-linear-gradient(to rigth, #93F9B9, #41b98f);\r\n    background: linear-gradient(to right, #93F9B9, #41b98f)\r\n}\r\n.text-box{\r\n    overflow:hidden;\r\n    word-wrap:break-word;\r\n    line-height: 1.5em;\r\n}\r\n.check-box{\r\n    widows: 20px;\r\n    height: 20px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}